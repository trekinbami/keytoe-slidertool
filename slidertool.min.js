var SliderTool={defaults:{navClass:"slidertool-nav",navActiveClass:"current",navElement:"li",mainCnt:"slidertool",mainCntInner:"slidertool__inner",mainSlideClass:"main-slide",activeClass:"active",startSlide:1,btnNextClass:"btn--next",btnPrevClass:"btn--prev"},parameters:{},_setParameters:function(e){$.each(this.defaults,function(a){a in e?SliderTool.parameters[a]=e[a]:SliderTool.parameters[a]=SliderTool.defaults[a]})},layout:{_highestArrayVal:function(e){return Math.max.apply(Math,e)},_lowestArrayVal:function(e){return Math.min.apply(Math,e)},getCntWidth:function(){return $("."+SliderTool.parameters.mainCnt).width()},calculateHeights:function(){var e=SliderTool.parameters.mainSlideClass,a=[],t;$("."+e).css("height","").each(function(){var e=$(this).outerHeight(!0);a.push(e)}),t=SliderTool.layout._highestArrayVal(a),$("."+SliderTool.parameters.mainCnt).height(t),$("."+e).css("height","100%")},calculateSizes:function(){var e=$("."+SliderTool.parameters.mainCnt).width();$("."+SliderTool.parameters.mainSlideClass).width(e),$("."+SliderTool.parameters.mainSlideClass+"."+SliderTool.parameters.activeClass).prevAll().css("left",-e),$("."+SliderTool.parameters.mainSlideClass+"."+SliderTool.parameters.activeClass).nextAll().css("left",e)}},forms:{validateEmail:function(e){var a=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;return a.test(e)}},slider:{_getHighestMainSlide:function(e){var a=[];return $("."+SliderTool.parameters.mainSlideClass).each(function(){var e=$(this).attr("data-mainslide");a.push(e)}),"undefined"==typeof e||"forward"===e?SliderTool.layout._highestArrayVal(a):SliderTool.layout._lowestArrayVal(a)},_getActiveSubslides:function(e){var a=$("."+SliderTool.parameters.mainSlideClass+".active").data("mainslide"),t=[];return $("."+SliderTool.parameters.mainSlideClass+"[data-mainslide="+a+"]").each(function(){t.push($(this).attr("data-subslide"))}),"undefined"==typeof e||"forward"===e?SliderTool.layout._highestArrayVal(t):SliderTool.layout._lowestArrayVal(t)},_getSubslide:function(e,a){var t=[];return $("."+SliderTool.parameters.mainSlideClass+'[data-mainslide="'+e+'"]').each(function(){t.push($(this).attr("data-subslide"))}),"high"===a?SliderTool.layout._highestArrayVal(t):SliderTool.layout._lowestArrayVal(t)},_selectScreen:function(e){var a=parseInt($("."+SliderTool.parameters.activeClass).attr("data-mainslide"),10),t=$("."+SliderTool.parameters.activeClass).attr("data-subslide"),i=$("."+SliderTool.parameters.mainCnt).width(),l=this._getHighestMainSlide(e),r=this._getActiveSubslides(e),s,n;if($("."+SliderTool.parameters.mainSlideClass+"[data-mainslide="+l+"][data-subslide="+r+"]").is(".active"))return!1;if($('.main-slide.active[data-subslide="'+r+'"]').is(".active")){"undefined"==typeof e||"forward"===e?(s=parseInt(a,10)+1,n="low"):(s=parseInt(a,10)-1,i=-i,n="high");var o=this._getSubslide(s,n),d=$("."+SliderTool.parameters.mainSlideClass+'[data-mainslide="'+s+'"][data-subslide="'+o+'"]');d.css({left:i,"z-index":"1"}).detach(),"undefined"==typeof e||"forward"===e?(d.insertAfter("."+SliderTool.parameters.activeClass),this.animateScreen("forward")):(d.insertBefore("."+SliderTool.parameters.activeClass),this.animateScreen("back"))}else{"undefined"==typeof e||"forward"===e?s=parseInt(t,10)+1:(s=parseInt(t,10)-1,i=-i);var u=$('.main-slide[data-mainslide="'+a+'"][data-subslide="'+s+'"]');u.css({left:i,"z-index":"1"}).detach(),"undefined"==typeof e||"forward"===e?(u.insertAfter("."+SliderTool.parameters.activeClass),this.animateScreen("forward")):(u.insertBefore("."+SliderTool.parameters.activeClass),this.animateScreen("back"))}},setActive:function(){var e=SliderTool.parameters.startSlide-1;$("."+SliderTool.parameters.mainSlideClass).eq(e).addClass(SliderTool.parameters.activeClass).css({opacity:"1","z-index":"2"})},animateScreen:function(e){var a=parseInt($("."+SliderTool.parameters.mainCnt).width()),t=$("."+SliderTool.parameters.activeClass),i,l;"undefined"==typeof e||"forward"===e?(i=-a,l=t.next()):(i=a,l=t.prev()),t.velocity({left:i,opacity:0},{duration:500,complete:function(){$(this).css({opacity:"","z-index":""})}}),t.removeClass("active"),l.velocity({left:0,opacity:1},{duration:500,complete:function(){SliderTool.layout.calculateHeights(),$("body").velocity("scroll",{duration:200}),$(this).css("z-index","2").addClass("active")}})},eventHandlers:function(){$("body").on("click","."+SliderTool.parameters.btnNextClass,function(e){e.preventDefault(),SliderTool.slider._selectScreen("forward")}).on("click","."+SliderTool.parameters.btnPrevClass,function(e){e.preventDefault(),SliderTool.slider._selectScreen("back")})}},resize:function(){this.layout.calculateSizes(),this.layout.calculateHeights()},init:function(e){"undefined"==typeof e&&(e=SliderTool.defaults),this._setParameters(e),this.layout.calculateSizes(),this.layout.calculateHeights(),this.slider.setActive(),this.slider.eventHandlers()}};