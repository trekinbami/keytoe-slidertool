var SliderTool={defaults:{navigation:{cntClass:"slidertool-nav",currentClass:"current",cntEl:"li"},slider:{mainCnt:"slidertool",mainCntInner:"slidertool__inner",mainSlideClass:"main-slide",subSlideClass:"sub-slide",activeClass:"active",startSlide:1,btnNextClass:"btn--next",btnPrevClass:"btn--prev"}},layout:{_highestArrayVal:function(e){return Math.max.apply(Math,e)},_lowestArrayVal:function(e){return Math.min.apply(Math,e)},calculateHeights:function(){var e=SliderTool.defaults.slider.mainSlideClass,i=[],l;$("."+e).css("height","").each(function(){var e=$(this).outerHeight(!0);i.push(e)}),l=SliderTool.layout._highestArrayVal(i),$("."+SliderTool.defaults.slider.mainCnt).height(l),$("."+e).css("height","100%")},calculateSizes:function(){var e=$("."+SliderTool.defaults.slider.mainCntInner),i=$("."+SliderTool.defaults.slider.mainCnt).width(),l=i;l===i?e.children().each(function(){l+=$(this).width()}):(i=$("."+SliderTool.defaults.slider.mainCnt).width(),e.children().each(function(){l+=$(this).width()})),$("."+SliderTool.defaults.slider.mainSlideClass).width(i)}},forms:{validateEmail:function(e){var i=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;return i.test(e)}},slider:{_getHightestMainSlide:function(e){var i=[];return $("."+SliderTool.defaults.slider.mainSlideClass).each(function(){var e=$(this).attr("data-mainslide");i.push(e)}),void 0===e||"forward"===e?SliderTool.layout._highestArrayVal(i):SliderTool.layout._lowestArrayVal(i)},_getActiveSubslides:function(e){var i=$("."+SliderTool.defaults.slider.mainSlideClass+".active").data("mainslide"),l=[];return $("."+SliderTool.defaults.slider.mainSlideClass+"[data-mainslide="+i+"]").each(function(){l.push($(this).attr("data-subslide"))}),void 0===e||"forward"===e?SliderTool.layout._highestArrayVal(l):SliderTool.layout._lowestArrayVal(l)},_getSubslide:function(e,i){var l=[];return $("."+SliderTool.defaults.slider.mainSlideClass+'[data-mainslide="'+e+'"]').each(function(){l.push($(this).attr("data-subslide"))}),"high"===i?SliderTool.layout._highestArrayVal(l):SliderTool.layout._lowestArrayVal(l)},_selectScreen:function(e){var i=parseInt($("."+SliderTool.defaults.slider.activeClass).attr("data-mainslide"),10),l=$("."+SliderTool.defaults.slider.activeClass).attr("data-subslide"),t=$("."+SliderTool.defaults.slider.mainCnt).width(),a=this._getHightestMainSlide(e),s=this._getActiveSubslides(e),d,r;if($("."+SliderTool.defaults.slider.mainSlideClass+"[data-mainslide="+a+"][data-subslide="+s+"]").is(".active"))return!1;if($('.main-slide.active[data-subslide="'+s+'"]').is(".active")){void 0===e||"forward"===e?(d=parseInt(i,10)+1,r="low"):(d=parseInt(i,10)-1,t=-t,r="high");var u=this._getSubslide(d,r),o=$("."+SliderTool.defaults.slider.mainSlideClass+'[data-mainslide="'+d+'"][data-subslide="'+u+'"]');o.css({left:t,"z-index":"1"}).detach(),void 0===e||"forward"===e?(o.insertAfter("."+SliderTool.defaults.slider.activeClass),this.animateScreen("forward")):(o.insertBefore("."+SliderTool.defaults.slider.activeClass),this.animateScreen("back"))}else{void 0===e||"forward"===e?d=parseInt(l,10)+1:(d=parseInt(l,10)-1,t=-t);var n=$('.main-slide[data-mainslide="'+i+'"][data-subslide="'+d+'"]');n.css({left:t,"z-index":"1"}).detach(),void 0===e||"forward"===e?(n.insertAfter("."+SliderTool.defaults.slider.activeClass),this.animateScreen("forward")):(n.insertBefore("."+SliderTool.defaults.slider.activeClass),this.animateScreen("back"))}},setSizes:function(){$("."+SliderTool.defaults.slider.mainSlideClass).css({position:"absolute",left:"0",top:"0",opacity:"0"})},setActive:function(){var e=SliderTool.defaults.slider.startSlide-1;$("."+SliderTool.defaults.slider.mainSlideClass).eq(e).addClass(SliderTool.defaults.slider.activeClass).css("opacity","1")},animateScreen:function(e){var i=parseInt($("."+SliderTool.defaults.slider.mainCnt).width()),l=$("."+SliderTool.defaults.slider.activeClass),t,a;void 0===e||"forward"===e?(t=-i,a=l.next()):(t=i,a=l.prev()),l.velocity({left:t,opacity:0},{duration:500,complete:function(){$(this).css("opacity","")}}),l.removeClass("active"),a.velocity({left:0,opacity:1},{duration:500,complete:function(){SliderTool.layout.calculateHeights(),$("body").velocity("scroll",{duration:200}),$(this).addClass("active")}})},eventHandlers:function(){$("body").on("click","."+SliderTool.defaults.slider.btnNextClass,function(e){e.preventDefault(),SliderTool.slider._selectScreen("forward")}).on("click","."+SliderTool.defaults.slider.btnPrevClass,function(e){e.preventDefault(),SliderTool.slider._selectScreen("back")})}},resize:function(){this.layout.calculateHeights(),this.layout.calculateSizes()},init:function(){this.layout.calculateHeights(),this.layout.calculateSizes(),this.slider.setSizes(),this.slider.setActive(),this.slider.eventHandlers()}};$(function(){SliderTool.init()}),$(window).resize(function(){SliderTool.resize()});